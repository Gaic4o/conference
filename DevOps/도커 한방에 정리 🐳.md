# 도커 한방에 정리 🐳

[도커 한방에 정리 🐳](https://www.youtube.com/watch?v=LXJhA3VWXFA)

### 도커 정의

도커는 애플리케이션을 패키지화할 수 있는 도구예요.<br/>
애플리케이션, 시스템 툴, 디팬던시 등을 포함한 컨테이너라는 소프트웨어 패키지를 통해 쉽게 배포하고 안정적이고 구동할 수 있게 해줘요<br/>

### Local Machine -> Server

예를 들어, Node.js 애플리케이션을 서버마다, 개발자 PC마다 각각 설치하는 것은 번거롭고 오류가 발생할 수 있어요<br/>
내 PC에서는 잘 되지만 서버에서는 잘 안 될 떄가 있어요. 이러한 번거로움을 해결하기 위해 도커가 등장했어요.<br/>

애플리케이션 구동을 위해 필요한 여러 라이브러리, 디팬던시, 구성 파일, Node.js 등을 모두 담아 놓은 것이 바로 도커 컨테이너에요.<br/>
이를 통해 어떤 PC에서든지 동일하게 애플리케이션을 구동할 수 있어요.

## Docker Container는 VM와 같은 것인가?

### VM (Virtual Machine)

VM은 VMware, VirtualBox 등을 통해 가상 머신을 만들 수 있어요. 각 가상 머신은 운영체제를 포함하고 있어서, 맥OS에서 윈도우나 리눅스를 동시에 실행할 수 있어요<br/>
그러나 무거운 운영체제를 포함하고 있어 리소스를 많이 소모해요.

### Docker Container

VM은 운영체제를 포함하지만, 컨테이너는 Host OS를 공유해요. 컨테이너가 구동되기 위해서는 컨테이너 엔진이 필요하며, 이 엔진이 Host OS에 접근해서 작업들을 처리해줘요. 가장 많이 사용하는 컨테이너 엔진이 바로 도커에요.

## Docker란?

컨테이너를 만들기 위해서는 총 3가지가 필요해요:

1. Dockerfile: 컨테이너를 어떻게 만들어야 하는지 레시피 같은 것이에요.(파일 복사, 디팬던시 설치, 환경 변수 설정, 스크립트 실행 등)
2. Image: 애플리케이션 코드, 런타임 환경, 시스템 라이브러리, 시스템 환경 등 모든 설정 상태를 스크린샷처럼 저장한 것이에요. 이미지 자체는 불변이에요.
3. Container: 이미지를 실행하여 애플리케이션이 동작하는 환경이에요.

Dockerfile을 작성하여 로컬에서 이미지를 만들고, 이를 컨테이너 레지스트리에 푸시해요. 서버에서 해당 이미지를 다운로드 받아 컨테이너로 실행할 수 있어요.

## Public / Private

이미지는 Public 또는 Private으로 관리할 수 있어요:

- Public: Dockerhub, Github Packages
- Private: AWS, Google Cloud, Azure 등 (회사의 이미지를 외부에서 다운로드하지 못하도록 private으로 설정)

## 좀 더 공부할 만한 좋은 내용

- 도커 컴포즈: 여러 개의 컨테이너를 동시에 정의하고 실행할 수 있게 해주는 도구에요. Docker Compose 파일을 통해 여러 컨테이너를 하나의 서비스처럼 관리할 수 있어요.
- 도커 스윔: 도커의 클러스터링 및 오케스트레이션 도구로, 여러 도커 호스트를 하나의 가상 도커 호스트처럼 관리할 수 있게 해줘요.
- 쿠버네티스: 도커 컨테이너를 배포하고 관리하기 위한 오픈 소스 플랫폼으로, 대규모 컨테이너화된 애플리케이션을 쉽게 관리할 수 있게 해줘요.

## 총 정리

도커를 사용하면 개발자의 PC와 서버에 동일 환경을 쉽게 구축할 수 있음.<br/>
-> 로컬 컴퓨터에서 애플리케이션을 구동하는 데 필요한 Dockerfile를 작성하여 이미지를 빌드합니다.<br/>
-> 로컬 컴퓨터에서 컨테이너 레지스트리에 이미지를 푸시해요.<br/>
-> 서버에서 이미지를 다운로드 받아 컨테이너를 실행해요.
