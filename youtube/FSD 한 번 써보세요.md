# 아직도 React 폴더 구조로 고민하고 계신가요? FSD 한 번 써보세요

영상 링크: [아직도 React 폴더 구조로 고민하고 계신가요? FSD 한 번 써보세요](https://www.youtube.com/watch?v=64Fx5Y1gEOA)
Github FSD 프로젝트 참고할 만한 곳 [FSD web16-B1G1](https://github.com/boostcampwm2023/web16-B1G1)

## FSD 핵심 개념

FSD는 `Layout`, `Slices`, `Segments`로 구분되며, 폴더의 깊이를 최대 3단계로 제한합니다.
이 제한은 폴더 안에 파일이 과도하게 많아지는 것을 방지하여, 관리의 복잡성을 줄이고 유지보수를 용이하게 만들어 줍니다.

### 폴더 구조

1. App: 애플리케이션의 전역 설정과 구성 요소를 포함합니다. 여기에는 전역 스타일, 라우팅 설정, 상태 관리 등이 포함됩니다. App 레이어는 애플리케이션의 기초를 다지며, 모든 기능이 제대로 작동할 수 있도록 설정을 제공합니다

2. Processes: 여러 페이지에 걸쳐 일어나는 작업 흐름을 관리합니다. 사용자가 장바구니에 상품을 담고 결제하는 과정처럼 여러 단계에 걸친 작업을 이 레이어에서 처리합니다. 그러나 작은 규모의 프로젝트에서는 이 레이어를 생략할 수 있으며, 이 경우 위젯으로 대체될 수 있습니다.

3. Pages: 애플리케이션의 각 페이지를 구성합니다. 각 페이지는 간단한 로직으로 이루어져 있으며, 주로 다른 레이어에서 제공하는 컴포넌트를 조합하여 구성됩니다.

4. Widgets: 페이지를 구성하는 자율적인 UI 블록입니다. 헤더, 푸터, 채팅 창과 같은 독립적인 UI 요소들이 여기에 포함됩니다.

5. Features: 사용자에게 중요한 기능을 제공하는 레이어입니다. 예를 들어, 게시글 작성, 메시지 전송, 좋아요 버튼 기능 등이 포함됩니다.

6. Entities: 애플리케이션에서 중요한 데이터나 객체들을 정의합니다. 소셜 네트워크에서 사용자 정보나 게시물 데이터 등이 포함됩니다. 이 데이터는 API를 통해 불러오며, 특정 페이지나 기능에 따라 동작합니다.

7. Shared: 재사용 가능한 컴포넌트와 유틸리티를 포함합니다. 버튼, 아이콘, 텍스트 스타일 등은 모든 곳에서 재사용될 수 있으며, 공통적인 기능들을 모아둔 폴더입니다.

### 폴더와 파일 관리

FSD는 폴더 구조를 최대 3단계로 제한합니다. 예를 들어, `Slices`는 도메인에 따라 분리되며, 각각의 `Slice`는 특정 UI, 모델 데이터, API 호출 등을 처리합니다. 기타 라이브러리나 유틸리티는 lib 폴더에 모아 관리합니다.

### FSD 사용 예시

처음 FSD를 도입할 때는 `App`, `Page`, `Entities`, `Shared` 4개의 폴더만 사용해보는 것이 좋습니다.

- `Processes`는 주로 여러 단계에 걸친 페이지에서 사용되며, 작은 규모의 프로젝트에서는 생략할 수 있습니다. 이러한 단계들은 위젯으로 처리할 수 있습니다.
- `Features`는 특정 동작을 처리합니다. 예를 들어, GitHub에서 포크와 스타 기능은 동일한 UI를 가지지만, 데이터를 다르게 처리하기 때문에 데이터는 Entities에, 동작은 Features에 포함됩니다.

```javascript
<Shared.Button
  onClick={handleClick}
  icon={shared.icon.fork}
  data={forkEntity.model.forkCount}
/>
```

이 코드 예시는 FSD의 구조를 잘 보여줍니다. Shared 폴더에서 버튼 컴포넌트를 가져와 사용하며, Entities 폴더에서 데이터를 불러옵니다. Features 폴더에서는 버튼 클릭 시 어떤 동작이 이루어질지 정의합니다.

### 폴더 구조 규칙

가장 중요한 FSD의 규칙은 각 레이어가 다른 레이어를 임포트하는 방식입니다.

- App 레이어는 Processes, Pages, Entities, Shared, Features, Widgets를 임포트할 수 있습니다.
- Pages 레이어는 Widgets, Features, Entities, Shared를 임포트할 수 있습니다.
- Widgets 레이어는 Features, Entities, Shared를 임포트할 수 있습니다.
- Features는 Entities, Shared를 임포트할 수 있습니다.
- Shared는 어디서나 임포트될 수 있습니다.

모든 임포트는 `index.js` 파일을 통해 이루어지며, 이를 통해 캡슐화를 유지합니다. FSD의 가장 큰 장점 중 하나는 이러한 명확한 임포트 규칙 덕분에 팀 전체가 일관된 구조를 유지할 수 있다는 점입니다.

## 결론

FSD는 대규모 프로젝트에서 복잡한 폴더 구조를 간소화하고, 유지보수와 확장성을 높이기 위한 방법입니다. 특정 상황에서 Atomic Design과 결합하여 사용할 수도 있으며, 이는 복잡한 UI 구성 요소를 관리하는 데 도움이 됩니다. FSD는 프로젝트의 성격과 규모에 따라 도입을 고려할 수 있으며, 폴더 구조에 대한 명확한 가이드를 제공함으로써 팀 협업을 더욱 원활하게 만듭니다.
